<!DOCTYPE html>
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>ページタイトル（タブに出すヤツ）</title>

	<!-- ▼ Masonry -->
	<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <!-- ▼ Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

	<style type="text/css">
		* {
			font-family: "Meiryo UI";
			color: #555;
			/* border: 1px solid aqua; レイアウト確認用 */
		}

		html,
		body {
			width: 100%;
			height: 100%;
		}
		.navbar-inverse {
			background-color: rgba( 80, 80, 80, 0.55 );/* ヘッダの背景を半透明にする－レイアウト確認用 */
		}
	</style>
	<!-- ▼ Read More/Less -->
	<!-- ref. jQuery Read More/Less Toggle - A PEN BY Max -->
	<style type="text/css">
		.morecontent span {
			display: none;
		}
		.morelink {
			display: block;
		}
	</style>
	<!-- ▼ Masonry -->
	<style type="text/css">
	.grid-container {
		padding-top: 80px;
		margin: 0 30px 0 30px;
		/* overflow-y: auto; 縦スクロールは外枠のみにする*/
	}
	.grid-group {
	/* 問題： 
		ページ内遷移でヘッダに隠れないようにするにはpadding/marginを埋めれば良い。
		ただし、同時に垂直上の要素との間に空白が出来てしまう。
		プラス、垂直上の要素内のリンクに被るとリンクをクリックできなくなる。
		疑似要素を使用すれば空白はできないし、リンクに被ることも無いが、
		ページ内遷移にも疑似要素の為やはりヘッダに一部が隠れてしまう。
		結論：
		グルーピング諦めるか、ヘッダを左側に縦に設ける。
		参考：
		http://cgsc.info/programming/20151222_fixed-header_scroll
		http://www.tomotanuki.com/entry/web-in-page-link-fixed
		http://coliss.com/articles/build-websites/operation/css/css-tutorial-pseudo-element-before-after-by-hongkiat.html
		
		padding-top: 160px;
		margin-top: -160px;
	*/
	}
	.grid-item { 
		width: 400px;
		/*
		border: 1px solid aqua;
		*/
		padding: 10px;
	}

	</style>
</head>

<body>
	<input type="hidden" name="hiddenparam1" value="hiddenvalue1">
	<input type="hidden" name="hiddenparam1" value="hiddenvalue2">

	<nav id="header" class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header container" style="width: 100%">				
				<div class="row">
					<div class="col-sm-11">
						<a class="navbar-brand" href="#header">
						<span style="color: white; white-space: nowrap; font-size: x-large; font-weight: bolder;">
							<!-- <img alt="logo" src="/img/logo.png" style="height: 25px;"/>  -->
							ページタイトル(ヘッダに出すヤツ) － レイアウト確認のため背景はnavbar-inverseにて半透明中
						</span></a>
					</div>
					<div class="col-sm-1" style="text-align: right; padding-right: 5px;	display: flex; align-items: center;">
						<a target="_blank" href="https://www.hoge.com/piyo/adomin">
							<h4><span class="label label-default">管理者ページ</span></h4>
						</a>
					</div>
				</div>

				<div class="nav navbar-nav dropdown">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#" style="color: white; ">
						グループ @苦戦中 (ページ内遷移でヘッダに一部が隠れちゃう。詳細はCSSのコメント参照)
					<span class="caret"></span></a>
					<ul class="dropdown-menu">
						<li><a href="#grp01item001">グループ①</a></li>
						<li><a href="#grp02item001">グループ② - 「あ」のグループ</a></li>
						<li><a href="#grp03item001">グループ③ - 「い」のグループ</a></li>
					</ul>
				</div>

			</div>
		</div>
	</nav>

	<!-- ▼ 見出し欄固定用の箱 (required) -->
	<div class="grid-container">

	<!-- ▼ タイル表示される要素を入れる箱(隙間なく整列させたいボックス群を囲むブロック) (required) -->
	<div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 20 }'>

		
			<div id="grp01item001" class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					<!-- 個別タイルの見出し -->
					<p style="font-size: x-large; font-weight: bold; text-align: center; color: maroon; display: inline; ">
						締切前X投票前の場合の見てくれ－ほげほげほげげ
					</p>
					<h5 style="display: inline; ">
					<span class="label label-default">締切</span> あと<span style="font-weight: bold; color: crimson;">3</span>日
					</h5>
					<div class="container-fluid row" style="padding: 10px 0 10px 0;">
						<div class="col-md-9">
							<!-- // statusbar -->
							<div class="progress" style="margin: 2px 0 0 10px; padding: 0; text-align: center; ">
								<div class="progress-bar progress-bar-primary" style="width: 16%;">
									<!-- 獲得数比率 --><span style="color: white;"><!-- 獲得数 -->8</span>
								</div>
								<div class="progress-bar progress-bar-warning" style="width: 84%;">
									<span style="color: white;">ホゲホゲまであと42票</span>
								</div>
							</div>
							<!-- statusbar // -->
						</div>
						<div class="col-md-3" style="">
							<h4 style="margin: 0 0 0 0; padding: 0; "><span class="label label-primary">投票</span></h4>
						</div>
					</div>
					<div class="item-disc" style="">
						ステータスバーに複数ステータスをスタックすることでレイアウトはすっきりするが、真面目にやろうとすると画面のコードがスッパゲッティに成り得る。
						なので、別にラベル表示かmouseoverとかがきっと無難
						<a data-toggle="modal" href="#itemId001description" class="btn-xs btn-info">もっと読む！</a>
						<div class="modal fade" id="itemId001description">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal"><span>×</span></button>
										<h4 class="modal-title">みだし</h4>
									</div>
									<div class="modal-body">
										ぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよ★
										ぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよ★ 
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-default" data-dismiss="modal">閉じる</button>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
			
			<div class="grid-item">
			<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
				<!-- 個別タイルの見出し -->
				<span style="font-size: x-large; font-weight: bold; text-align: center; color: maroon;">締切前X投票後の場合の見てくれ</span>
				<!-- // statusbar -->
				<div class="progress" style="margin: 10px 15px 0 15px; padding: 0; text-align: center; ">
					<div class="progress-bar" role="progressbar" style="width: 16%;">
						<!-- 獲得数比率 -->
						<span style="color: white;">8</span>
						<!-- 獲得数 -->
					</div>
				</div>
				<!-- statusbar // -->
				<div class="container-fluid" style="display: inline; text-align: center; ">
							<h4>
							<span class="label label-default">締切</span> あと<span style="font-weight: bold; color: crimson;">3</span>日
							<span class="label label-default">ホゲホゲまであと42票</span>
							<span class="label label-default">送信</span>
							</h4>
				</div>
				<div class="item-disc">
				ぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよ★
				ぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよぴよぴよのぴよぴよによるぴよぴよ★ 
				</div>
			</div>
			</div>

			<div class="grid-item">
			<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
				<!-- 個別タイルの見出し -->
				<span style="font-size: x-large; font-weight: bold; text-align: center; color: maroon;">締切前X投票前の場合の見てくれ</span>
				<!-- // statusbar -->
				<div class="progress" style="margin: 10px 15px 0 15px; padding: 0; text-align: center; ">
					<div class="progress-bar" role="progressbar" style="width: 100%;">
						<!-- 獲得数比率 -->
						<span style="color: white;">8</span>
						<!-- 獲得数 -->
					</div>
				</div>
				<!-- statusbar // -->
				<div class="container-fluid" style="display: inline; text-align: center; ">
							<h4>
							<span class="label label-default">締切</span> あと<span style="font-weight: bold; color: crimson;">3</span>日
							<span class="label label-success">ホゲホゲになりました</span>
							<span class="label label-primary">投票</span>
							</h4>
				</div>
				<div class="item-disc">
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				</div>
			</div>
			</div>
			
			<div class="grid-item">
			<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
				<!-- 個別タイルの見出し -->
				<span style="font-size: x-large; font-weight: bold; text-align: center; color: maroon;">締切前X投票後の場合の見てくれ</span>
				<!-- // statusbar -->
				<div class="progress" style="margin: 10px 15px 0 15px; padding: 0; text-align: center; ">
					<div class="progress-bar" role="progressbar" style="width: 100%;">
						<!-- 獲得数比率と獲得数 -->
						<span style="color: white;">8</span>
					</div>
				</div>
				<!-- statusbar // -->
				<div class="container-fluid" style="display: inline; text-align: center; ">
							<h4>
							<span class="label label-default">締め切りました</span>
							<span class="label label-success">ホゲホゲになりました</span>
							<span class="label label-default">送信</span>
							</h4>
				</div>
				<div class="item-disc">
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				ほげほげほげげ<br/>
				</div>
			</div>
			</div>

			<div id="grp02item001" class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>あ<br/>
				</div>
			</div>
			<div id="grp03item001" class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>
				</div>
			</div>
			<div class="grid-item">
				<div class="grid-item-inner-con" style="background-color: ghostwhite; padding: 10px;">
					い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>い<br/>
				</div>
			</div>
		
	</div>
	<!-- ▲ タイル表示される要素を入れる箱(隙間なく整列させたいボックス群を囲むブロック) (required) -->

	

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


	<!-- js for getting height of header -->
	<script type="text/javascript">
	$(window).on('load resize', function(){
		// navbarの高さを取得する
		var height = $('#header').height();
		console.log("height of header is " + height);
		// bodyのpaddingにnavbarの高さを設定する
		$('.grid-container').css('padding-top',height); 
	});
	</script>
	<script type="text/javascript">
		$(document)
			.ready(
				function() {
					// Configure/customize these variables.
					var showChar = 50; // How many characters are shown by default
					var ellipsestext = "...";
					var moretext = "Show more >";
					var lesstext = "Show less";

					$('.more')
						.each(
							function() {
								var content = $(this).html();

								if (content.length > showChar) {
									// disp ShowMore
									var c = content.substr(0,
										showChar);
									var h = content.substr(
										showChar,
										content.length -
										showChar); //content for hiding

									var html = c +
										'<span class="moreellipses">' +
										ellipsestext +
										'&nbsp;</span><span class="morecontent"><span>' +
										h +
										'</span>&nbsp;&nbsp;<a href="" class="morelink">' +
										moretext +
										'</a></span>';

									$(this).html(html);
								}

							});

					$(".morelink").click(function() {
						if ($(this).hasClass("less")) {
							$(this).removeClass("less");
							$(this).html(moretext);
						} else {
							$(this).addClass("less");
							$(this).html(lesstext);
						}
						$(this).parent().prev().toggle();
						$(this).prev().toggle();
						return false;
					});
				});
	</script>



</body></html>
